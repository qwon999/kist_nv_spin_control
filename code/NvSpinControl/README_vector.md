# 벡터 기반 NV 스핀 제어 알고리즘

## 개요
이 코드는 NV 센터의 스핀 상태를 제어하기 위한 벡터 기반 접근법을 구현합니다. 회전축과 상태 벡터 간의 내적을 활용하여 최적의 펄스 시퀀스를 찾는 방법을 사용합니다.

## 주요 특징
- 벡터 내적을 통한 회전축 선택
- 내적 변화량 기반 최적화
- Detuning 효과 고려 (d0 = 0.15, v0 = 0.02)
- 상태 충실도(Fidelity) 기반 종료 조건 (0.99 이상)

## 구현 세부사항
1. **상태 표현**
   - 파울리 행렬(sx, sy, sz)을 사용한 상태 표현
   - 밀도 행렬 기반 상태 추적

2. **회전 연산**
   - Rx(theta): x축 회전 연산자
   - Rz(phi): z축 회전 연산자
   - unitary(dt, choice): 해밀토니안 기반 유니터리 연산자

3. **최적화 전략**
   - 현재 상태와 목표 상태의 외적 계산
   - 회전축과 외적 벡터의 내적 최대화
   - 내적 변화량 기반 추가 최적화

## 성능
- 중첩 상태 도달 시간: 110.88마이크로초
- 상태 충실도: 0.99 이상 유지
- 계산 효율성: 벡터 연산 기반 빠른 수렴

## 사용 방법
```python
# 필요한 패키지 설치
pip install numpy scipy matplotlib qutip

# 코드 실행
python NvSpinControlByVectorCalculation.py
```

## 참고사항
- Detuning 효과를 고려한 회전축 계산
- 내적값 동일 시 랜덤 선택 전략
- 상태 충실도 계산을 위한 밀도 행렬 활용 